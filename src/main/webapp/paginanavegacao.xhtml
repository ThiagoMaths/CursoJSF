<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">


<h:head>
    <title>Cadastro de Usuário</title>
</h:head>

<h:body>

    <h:form>
        <h:commandLink value="Administração" action="paginanavegacao" style=" margin-left: 1cm; "/>
        <h:commandLink value="Lançamentos" action="lancamento" style=" margin-left: 1cm; "/>
        <h:commandLink value="Trocar Usuario" action="index" style=" margin-left: 1cm; "/>


    </h:form>

    <h:form id="formPessoa" rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}">

        <!-- <h:graphicImage height="50" width="50" value="img/download.png"/> imagem -->

        <h:panelGrid columns="2">
            <f:facet name="header">
                <h:outputText value="Cadastro de Usuário"/>
            </f:facet>

            <h:outputText value="Id: "/>
            <h:inputText value="#{pessoaBean.pessoa.id}" readonly="true"/>


            <h:outputText value="Nome: "/>
            <h:inputText value="#{pessoaBean.pessoa.nome}"/>


            <h:outputText value="Sobrenome: "/>
            <h:inputText value="#{pessoaBean.pessoa.sobrenome}"/>

            <h:outputText value="Idade: "/>
            <h:inputText value="#{pessoaBean.pessoa.idade}"/>

            <h:outputText value="Perfil:"/>
            <h:selectOneMenu id="campoPerfil" value="#{pessoaBean.pessoa.perfilUser}">
                <f:selectItem itemLabel="[-Selecione-]" itemValue="NAO"/>
                <f:selectItem itemLabel="Administrador" itemValue="ADMINISTRADOR"></f:selectItem>
                <f:selectItem itemLabel="Secretário" itemValue="SECRETARIO"></f:selectItem>
                <f:selectItem itemLabel="Recepcionista" itemValue="RECEPCIONISTA"></f:selectItem>

            </h:selectOneMenu>


            <h:outputText value="Sexo:"/>
            <h:selectOneMenu id="campoSexo" value="#{pessoaBean.pessoa.sexo}">
                <f:selectItem itemLabel="[-Selecione-]" itemValue="NAO"/>
                <f:selectItem itemLabel="Masculino" itemValue="MASCULINO"></f:selectItem>
                <f:selectItem itemLabel="Feminino" itemValue="FEMININO"></f:selectItem>
            </h:selectOneMenu>

            <h:outputText value="Frameworks:"/>
            <h:selectManyMenu id="campoFrameworks" value="#{pessoaBean.pessoa.frameworks}" style=" height: 50px">
                <f:selectItem itemLabel="Hibernate" itemValue="Hibernate"></f:selectItem>
                <f:selectItem itemLabel="Spring MVC" itemValue="Spring MVC"></f:selectItem>
                <f:selectItem itemLabel="JPA" itemValue="JPA"></f:selectItem>
                <f:selectItem itemLabel="PrimeFaces" itemValue="PrimeFaces"></f:selectItem>
                <f:selectItem itemLabel="JSF" itemValue="JSF"></f:selectItem>|
            </h:selectManyMenu>


            <h:outputLabel value="Ativo"/>
            <h:selectBooleanCheckbox value="#{pessoaBean.pessoa.ativo}"/>

            <h:outputLabel value="Login:"/>
            <h:inputText value="#{pessoaBean.pessoa.login}"/>

            <h:outputLabel value="Senha:"/>
            <h:inputSecret value="#{pessoaBean.pessoa.senha}"/>

            <h:outputLabel/>
            <h:panelGroup>
                <h:commandButton value="Salvar" action="#{pessoaBean.salvar}" image="resources/img/botao-salvar.png"
                                 style="width: 30px" title="Salvar"/>
                <h:commandButton value="Novo" action="#{pessoaBean.novo}" image="resources/img/novo-documento.png"
                                 style="width: 30px" title="Novo"/>
                <h:commandButton value="Excluir" action="#{pessoaBean.excluir}" image="resources/img/bin.png" style="width: 30px"
                                 title="Excluir"/>
                <h:commandButton value="Limpar" type="reset" image="resources/img/apagador.png" style="width: 30px"
                                 title="Apagar"/>
            </h:panelGroup>

        </h:panelGrid>


        <h:dataTable value="#{pessoaBean.pessoas}" var="pessoa" border="3" cellpadding="6">
            <f:facet name="header">
                <h:outputLabel value="Lista de usuários cadastrados"></h:outputLabel>
            </f:facet>

            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="ID"></h:outputLabel>
                </f:facet>
                <h:outputText value="#{pessoa.id}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Nome"></h:outputLabel>
                </f:facet>
                <h:outputText value="#{pessoa.nome}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Sobrenome"></h:outputLabel>
                </f:facet>
                <h:outputText value="#{pessoa.sobrenome}"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Idade"></h:outputLabel>
                </f:facet>
                <h:outputText value="#{pessoa.idade}"/>
            </h:column>

            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Editar"></h:outputLabel>
                </f:facet>
                <h:commandLink>
                    <f:setPropertyActionListener target="#{pessoaBean.pessoa}" value="#{pessoa}"/>
                    <h:graphicImage value="/resources/img/editar.png" style="width: 25px" title="Editar"/>

                </h:commandLink>

            </h:column>

            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Excluir"></h:outputLabel>
                </f:facet>
                <h:commandLink action="#{pessoaBean.excluir()}">
                    <f:setPropertyActionListener target="#{pessoaBean.pessoa}" value="#{pessoa}"/>
                    <h:graphicImage  library="img" value="/resources/img/excluir.png" style="width: 25px" title="Excluir"/>
                </h:commandLink>
            </h:column>

        </h:dataTable>

    </h:form>
</h:body>

</html>
